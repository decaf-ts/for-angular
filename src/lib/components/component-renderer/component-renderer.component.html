<!-- Keep to avoid id conflicts -->
<div [id]="uid"></div>

<ng-template #componentViewContainer></ng-template>
<ng-template #inner>
  @if(parent?.children?.length) {
    @for(child of parent.children; track child) {
        @if(!child.children?.length) {
          <ng-container
                *ngComponentOutlet="
                  child.component;
                  injector: child.injector;
                  inputs: child.inputs;
                  content:child.content;
                "
          />
        } @else {
          <ngx-decaf-component-renderer [parent]="child"> </ngx-decaf-component-renderer>
        }
    }
  }
  @if(children?.length) {
    @for(child of children; track child) {
      @if(child.children?.length) {
      <ngx-decaf-component-renderer [parent]="child"> </ngx-decaf-component-renderer>
      } @else {
        <ngx-decaf-component-renderer
          [tag]="child?.tag"
          (listenEvent)="handleEvent($event)"
          [globals]="{props: child.props}" />
      }
    }
  }
</ng-template>


