<app-header
  title="List"
  center="true"
  showBackButton="true"
  color="primary">
</app-header>

<ion-content [fullscreen]="true">
   <main class="main">
    <app-container [hasSideMenu]="true" size="full">
      <ion-card>
        <ion-card-content>
          @if(type === 'infinite') {
            <ngx-decaf-list-infinite
              class="aeon-list"
              lines="none"
              button="true"
              [item]="{render: false}"
              [showSearchbar]="true"
              [showRefresher]="true"
              [source]="refresh.bind(this)"
              (refreshEvent)="handleListRefreshEvent($event)"
              #listComponent
            >
            @if(data?.length) {
              @for(item of data; track item['id']) {
               <ion-item [button]="true" (click)="handleListItemClick($event, item)">
                <ion-icon aria-hidden="true" name="reader-outline" slot="start"></ion-icon>
                <ion-label>
                  <p class="dcf-list-title">{{item.name}}</p>
                  <p class="dcf-list-description">{{item.occupation}}</p>
                </ion-label>
                <ion-note slot="end">{{item.birthdate}}</ion-note>
              </ion-item>
              }
            }
            </ngx-decaf-list-infinite>
          } @else {
            <ngx-decaf-list-paginated
              class="aeon-list"
              lines="none"
              button="true"
              [item]="{render: false}"
              [showPagination]="true"
              [showSearchbar]="true"
              [showRefresher]="true"
              [source]="refresh.bind(this)"
              (refreshEvent)="handleListRefreshEvent($event)"
              #listComponent
          >
          @if(data?.length) {
            @for(item of data; track item) {
              <ion-item [button]="true" (click)="handleListItemClick($event, item)">
                <ion-icon aria-hidden="true" name="reader-outline" slot="start"></ion-icon>
                <ion-label>
                  <p class="dcf-list-title">{{item.name}}</p>
                  <p class="dcf-list-description">{{item.occupation}}</p>
                </ion-label>
                <ion-note slot="end">{{item.birthdate}}</ion-note>
              </ion-item>
            }
          }
          </ngx-decaf-list-paginated>
          }
        </ion-card-content>
      </ion-card>

    </app-container>
  </main>
</ion-content>
